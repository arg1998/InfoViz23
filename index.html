<!DOCTYPE html>
<html>

<head>
  <title>Information Visualization 2023</title>
  <link rel="stylesheet" href="styles/main.css" />
  <link rel="stylesheet" href="styles/leaflet.css" />

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>
  <div id="left-container">
    <p class="prompts">1. Select Up to 5 Municipalities on the map:</p>
    <div id="mapbox"></div>
    <p class="prompts">2. Select a year:</p>
    <div class="radio-container">
      <div class="radio-group">
        <label>
          <input type="radio" name="sankey_year" value="2017" onchange="handleYearChange(this)" checked>
          <div class="radio-button"></div>
          <div class="radio-year">2017</div>
        </label>
        <label>
          <input type="radio" name="sankey_year" value="2018" onchange="handleYearChange(this)">
          <div class="radio-button"></div>
          <div class="radio-year">2018</div>
        </label>
        <label>
          <input type="radio" name="sankey_year" value="2019" onchange="handleYearChange(this)">
          <div class="radio-button"></div>
          <div class="radio-year">2019</div>
        </label>
        <label>
          <input type="radio" name="sankey_year" value="2020" onchange="handleYearChange(this)">
          <div class="radio-button"></div>
          <div class="radio-year">2020</div>
        </label>
        <label>
          <input type="radio" name="sankey_year" value="2021" onchange="handleYearChange(this)">
          <div class="radio-button"></div>
          <div class="radio-year">2021</div>
        </label>
      </div>
    </div>
    <p class="prompts">3. Select Up to 5 Contributing Factor:</p>
    <div class="checkbox-group">
      <label class="custom-checkbox">
        <input type="checkbox" value="alcohol_involved" onclick="handleCheckboxClick(this)">
        <span class="checkmark"></span>
        Alcohol Involved
      </label>
      <label class="custom-checkbox">
        <input type="checkbox" value="driver_inattentive" onclick="handleCheckboxClick(this)">
        <span class="checkmark"></span>
        Driver Inattentive
      </label>
      <label class="custom-checkbox">
        <input type="checkbox" value="drug_involved" onclick="handleCheckboxClick(this)">
        <span class="checkmark"></span>
        Drug Involved
      </label>
      <label class="custom-checkbox">
        <input type="checkbox" value="impaired_involved" onclick="handleCheckboxClick(this)">
        <span class="checkmark"></span>
        Impaired Involved
      </label>
      <label class="custom-checkbox">
        <input type="checkbox" value="driving_too_fast" onclick="handleCheckboxClick(this)">
        <span class="checkmark"></span>
        Exceeding Speed Limit
      </label>

      <label class="custom-checkbox">
        <input type="checkbox" value="distracted_involved" onclick="handleCheckboxClick(this)">
        <span class="checkmark"></span>
        Driver Distracted
      </label>

      <label class="custom-checkbox">
        <input type="checkbox" value="fell_asleep" onclick="handleCheckboxClick(this)">
        <span class="checkmark"></span>
        Driver Fell Asleep
      </label>

      

      
    </div>
  </div>
  <div id="right-container">
    <div class="sankeyTopLegend">
      <div>
          Municipalites (Number of accidents)
      </div>

      <div>
        Contributing Factors (Number of accidents)
    </div>

    </div>
    <div id="sankey"></div>
    <div id="sankeyBottomStat">
    </div>
    <p id="weatherviztitle">The Role Of Weather In Accidents Throughout North, South, and Middle BC</p>
    <div id="weather">
      <div class="options">
        <label>
          <input type="radio" name="year" value="north" onchange="handleRegionChange(this)" checked>
          <div class="radio-button"></div>
          <div class="radio-region">North</div>
        </label>


        <label>
          <input type="radio" name="year" value="mid" onchange="handleRegionChange(this)">
          <div class="radio-button"></div>
          <div class="radio-region">Mid</div>
        </label>

        <label>
          <input type="radio" name="year" value="south" onchange="handleRegionChange(this)">
          <div class="radio-button"></div>
          <div class="radio-region">South</div>
        </label>
        <div class="calviz_legend"></div>
      </div>

      <div class="calviz"></div>
    </div>
    <p id="casvsproptitle">Number of Casualties and Property Damage In Accidents</p>
    <div id="casualty">
      <div class="options">
        <label>
          <input type="radio" name="type" value="casualty" onchange="handleTypeChange(this)" checked>
          <div class="radio-button"></div>
          <div class="radio-type">Casualty</div>
        </label>

        <label>
          <input type="radio" name="type" value="property" onchange="handleTypeChange(this)">
          <div class="radio-button"></div>
          <div class="radio-type">Property</div>
        </label>
        <div class="calviz_legend"></div>
      </div>
      <div class="casvspropviz" id="viz2id"></div>
    </div>
  </div>
  <script src="sankey_chart.js"></script>
  <script src="leaflet_map.js"></script>
  <script src="heatmap.js"></script>
  <script src="casualtyprop.js"></script>

  <script>
    window.onload = function () {
      handleRegionChange({ value: "north" });
      handleTypeChange({ value: "casualty" });
    }
  </script>

</body>

</html>